{% extends 'base.html' %}
{% load static %}

{% block title %}Weather Search - ELOSTORA{% endblock %}

{% block content %}
<div class="weather-page">
    <!-- Hero Section -->
    <section class="weather-hero">
        <div class="weather-hero-content">
            <h1 class="weather-title">üîç Search Weather</h1>
            <p class="weather-subtitle">Check live weather for any city worldwide</p>
        </div>
    </section>

    <!-- Search Form -->
    <section class="weather-search">
        <div class="container">
            <form method="POST" class="weather-form">
                {% csrf_token %}
                <input type="text" name="city" placeholder="Enter city..." required class="input" aria-label="City name">
                <button type="submit" class="btn btn-primary">Search</button>
            </form>

            {% if weather %}
            <div class="weather-result">
                <div class="weather-card">
                    <div class="weather-card-header">
                        <h2 class="city">üå§ Weather in {{ weather.city }}</h2>
                        <img class="icon" alt="weather icon" src="https://openweathermap.org/img/wn/{{ weather.icon }}@2x.png">
                    </div>
                    <div class="weather-stats">
                        <div class="stat">
                            <div class="label">Temperature</div>
                            <div class="value">{{ weather.temp|floatformat:1 }}¬∞C</div>
                        </div>
                        <div class="stat">
                            <div class="label">Feels Like</div>
                            <div class="value">{{ weather.feels_like|floatformat:1 }}¬∞C</div>
                        </div>
                        <div class="stat">
                            <div class="label">Wind</div>
                            <div class="value">{{ weather.wind_speed|floatformat:1 }} m/s</div>
                        </div>
                        <div class="stat">
                            <div class="label">Humidity</div>
                            <div class="value">{{ weather.humidity }}%</div>
                        </div>
                        <div class="stat" style="grid-column: 1 / -1;">
                            <div class="label">Condition</div>
                            <div class="value">{{ weather.condition }}</div>
                        </div>
                    </div>
                    <div class="weather-actions">
                        <a href="{% url 'shop:shop_home' %}" class="btn btn-secondary">‚Üê Back to Home</a>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </section>
</div>

<style>
    .weather-page { background: white; }
    .weather-hero { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 60px 20px; text-align: center; margin-bottom: 32px; }
    .weather-hero-content { max-width: 1200px; margin: 0 auto; }
    .weather-title { font-size: clamp(28px, 5vw, 48px); font-weight: 700; margin: 0 0 8px; }
    .weather-subtitle { font-size: 16px; opacity: 0.95; margin: 0; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    .weather-form { display: grid; grid-template-columns: 1fr auto; gap: 12px; margin: 0 auto 24px; max-width: 640px; }
    .input { padding: 12px 14px; border-radius: 10px; border: 1px solid #e5e7eb; font-size: 16px; }
    .input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 4px rgba(102,126,234,0.15); }
    .weather-result { display: flex; justify-content: center; }
    .weather-card { width: 100%; max-width: 720px; background: white; border: 1px solid #f0f0f0; border-radius: 16px; box-shadow: 0 8px 24px rgba(102,126,234,0.12); padding: 20px; }
    .weather-card-header { display: flex; justify-content: space-between; align-items: center; }
    .city { margin: 0; font-size: 22px; font-weight: 700; color: #1a1a2e; }
    .icon { width: 64px; height: 64px; }
    .weather-stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-top: 16px; }
    .stat { background: #f9fafb; border: 1px solid #eef2f7; border-radius: 12px; padding: 16px; }
    .label { font-size: 12px; color: #667eea; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
    .value { font-size: 18px; color: #1a1a2e; font-weight: 700; margin-top: 6px; }
    .weather-actions { display: flex; justify-content: flex-end; margin-top: 16px; }
    .btn { display: inline-block; padding: 10px 16px; border-radius: 10px; text-decoration: none; font-weight: 700; }
    .btn-primary { background: #667eea; color: white; }
    .btn-primary:hover { background: #764ba2; }
    .btn-secondary { background: white; color: #667eea; border: 2px solid #667eea; }
    .btn-secondary:hover { background: #f0f4ff; }
    @media (max-width: 600px) { .weather-form { grid-template-columns: 1fr; } .weather-stats { grid-template-columns: 1fr; } }
</style>
{% endblock %}
