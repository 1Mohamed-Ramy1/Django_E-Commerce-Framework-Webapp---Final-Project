{% extends "base.html" %}
{% load static %}
{% block title %}üå¶Ô∏è Weather Management{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'dashboard/admin.css' %}">
<style>
.admin-table {
  width: 100%;
  border-collapse: collapse;
  background: #0f1628;
  border: 1px solid rgba(255,255,255,0.05);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
}
.admin-table thead {
  background: linear-gradient(135deg, #243b55 0%, #141e30 100%);
  color: #e8ecf5;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  font-size: 12px;
}
.admin-table th,
.admin-table td {
  padding: 12px 14px;
  text-align: left;
  color: #dbe4ff;
}
.admin-table tbody tr:nth-child(even) { background: rgba(255,255,255,0.02); }
.admin-table tbody tr:hover { background: rgba(102,126,234,0.06); }
.table-actions {
  display: flex;
  gap: 10px;
  align-items: center;
}
.pill {
  display: inline-block;
  padding: 6px 10px;
  border-radius: 10px;
  font-weight: 600;
}
.pill-neutral { background: rgba(255,255,255,0.08); color: #e8ecf5; }
.btn-primary { background: linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:#fff; }
.btn-ghost { color: #e8ecf5; border: 1px solid rgba(255,255,255,0.12); }
.btn-danger { background: rgba(229,57,53,0.15); color: #ff8a80; border: 1px solid rgba(229,57,53,0.4); }
.btn-inline { padding: 7px 12px; border-radius: 10px; font-weight: 700; }
.metric-chip { display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:12px; background:rgba(255,255,255,0.08); color:#e8ecf5; font-weight:600; }
</style>
{% endblock %}

{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.body.classList.add('admin-body');
  });
</script>
{% endblock %}

{% block content %}
{% include "partials/header.html" %}

<div class="admin-shell">
  <div class="admin-header">
    <div>
      <div class="admin-title">üå¶Ô∏è Weather Management</div>
      <div class="admin-subtitle">Monitor, edit, and clean up weather entries with a single glance.</div>
    </div>
    <div class="admin-actions">
      <a class="btn btn-primary" href="{% url 'dashboard:weather_add' %}">+ Add Weather Entry</a>
    </div>
  </div>

  <div class="admin-card" style="padding:18px;">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:14px;">
      <div class="metric-chip">üìç Cities: {{ weather_entries|length }}</div>
    </div>
    <table class="admin-table">
      <thead>
        <tr>
          <th style="width:60px;">ID</th>
          <th>City</th>
          <th style="width:140px;">Temperature</th>
          <th>Description</th>
          <th style="width:180px; text-align:center;">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for w in weather_entries %}
        <tr>
          <td>{{ w.id }}</td>
          <td>{{ w.city_name }}</td>
          <td><span class="pill pill-neutral">{{ w.temperature }}¬∞C</span></td>
          <td>{{ w.description|default:"-" }}</td>
          <td style="text-align:center;">
            <div class="table-actions">
              <a class="btn-inline btn-ghost" href="{% url 'dashboard:weather_edit' w.id %}">Edit</a>
              <a class="btn-inline btn-danger" href="{% url 'dashboard:weather_delete' w.id %}" onclick="return confirm('Are you sure you want to delete this entry?')">Delete</a>
            </div>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" style="text-align:center; color:#9fb0d9;">No weather entries found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
